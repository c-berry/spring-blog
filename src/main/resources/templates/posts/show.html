<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="partials/partials.html :: head ('View One Posts')">
</head>
<nav th:replace="partials/partials.html :: navbar"></nav>

<h1>View a Post</h1>

<div th:if="${results}">
    <ul>
        <li th:text="${results.title}"></li>
        <li th:text="${results.body}"></li>
        <li th:text="${results.getUser().getEmail()}"></li>
        <div class="flex-container d-flex flex-wrap">
            <div th:each="image : ${results.postImages}" >
                <img th:src="${image.getUrl()}" class="">
                <form action="/posts/delete-img" method="POST">
                    <input type="hidden" th:value="${image.getId()}" name="id">
                    <button type="submit" class="btn btn-danger btn1">Delete</button>
                </form>
            </div>
        </div>
    </ul>
</div>

<fieldset>
    <legend>Edit Post</legend>
    <form action="/posts/edit-post" method="POST">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" th:value="${results.title}" >
        <label for="body">Body</label>
        <input type="text" id="body" name="body" th:value="${results.body}">

        <label for="tag">Change Tag(s):</label>
        <select name="tag" id="tag" multiple>
            <option value="1">Tech</option>
            <option value="2">Games</option>
            <option value="3">Lifestyle</option>
            <option value="4">Etc.</option>
            <option value="5">Music</option>
            <option value="6">Pets</option>
        </select>

        <input type="hidden" th:value="${results.id}" name="id">
        <input type="submit" value="Submit">
    </form>
</fieldset>

<fieldset>
    <legend>Add Image to Post</legend>
    <form action="/posts/add-image" method="POST">
        <label for="img-title">Image Title:</label>
        <input type="text" id="img-title" name="img-title">
        <label for="url">URL:</label>
        <input type="text" id="url" name="url">
        <input type="hidden" th:value="${results.getId()}" name="id">
        <input type="submit" value="Submit">
    </form>
</fieldset>

<footer th:replace="partials/partials.html :: footer">
</footer>
</body>
</html>